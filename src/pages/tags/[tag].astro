---
import type {
	InferGetStaticParamsType,
	InferGetStaticPropsType,
	GetStaticPaths,
} from 'astro';
import Layout from '@/layouts/Layout.astro';

export const getStaticPaths = (async () => {
	const allPosts = await Astro.glob('../posts/*.md');
	return [
		{ params: { tag: 'astro' }, props: { posts: allPosts } },
		{ params: { tag: 'successes' }, props: { posts: allPosts } },
		{ params: { tag: 'community' }, props: { posts: allPosts } },
		{ params: { tag: 'blogging' }, props: { posts: allPosts } },
		{ params: { tag: 'setbacks' }, props: { posts: allPosts } },
		{ params: { tag: 'learning in public' }, props: { posts: allPosts } },
	];
}) satisfies GetStaticPaths;

type Params = InferGetStaticParamsType<typeof getStaticPaths>;
type Props = InferGetStaticPropsType<typeof getStaticPaths>;

const { tag } = Astro.params as Params;
const { posts } = Astro.props;
---

<Layout title={tag}>
	<div class="p-10">
		<h1 class="text-mutedTxt">Posts tagged with: {tag}</h1>
	</div>
</Layout>
